<!DOCTYPE html>
<html>
  <head>
    <meta charest="UTF-8" />
    <title>Document</title>
    <link rel="stylesheet" href="/bootstrap.min.css" id="bootstrap-css">
    <link rel='stylesheet' href='/stylesheets/style.css' />

    <script src="/jquery.min.js"></script>
    <script src="/bootstrap.min.js"></script>
  </head>
  <body class="text-center">
    <div class="form-signIn">
        <form>
            <h1 class="h3 mb-3 fw-normal">로그인 페이지</h1>

            <div class="form-floating">
                <input type="text" class="form-control" id="id" placeholder="아이디를 입력하세요">
                <label for="id">아이디</label>
            </div>
            <div class="form-floating">
                <input type="password" class="form-control" id="pwd" placeholder="비밀번호를 입려하세요">
                <label for="pwd">비밀번호</label>
            </div>

            <div class="checkbox mb-3">
                <label>
                    <span>회원 가입</span>
                </label>
            </div>
            <dic>
                <button class="btn btn-lg btn-primary" type="submit">로그인</button>
            </dic>

            <div style="height: 100px; background-color: rgba(255,0,0,.1);">
                <div class="mh-100" style="width: 100px; height: 200px; background-color: rgba(0,0,255,.1);">Max-height 100%</div>
            </div>

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                            <a class="nav-link" href="#">Features</a>
                            <a class="nav-link" href="#">Pricing</a>
                            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                        </div>
                    </div>
              </nav>
        </form>
    </div>
  <script>
      localStorage.clear();
      sessionStorage.clear();

      $("#loginBtn").click(function(){
           $.ajax({
               type : 'post',           // 타입 (get, post, put 등등)
               url : 'http://localhost:3000/api/member/login',   // 요청할 서버url
               async : true,            // 비동기화 여부 (default : true)
               headers : {              // Http header
                   "Content-Type" : "application/x-www-form-urlencoded",
               },
               dataType : 'json',       // 데이터 타입 (html, xml, json, text 등등)
               data : {  // 보낼 데이터 (Object , String, Array)
                   "id" : $("#id").val(),
                   "pw" : $("#pw").val()
               },
               success : function(result) { // 결과 성공 콜백함수
                   if(result==='로그인 성공'){
                       window.location.href = 'http://localhost:3000/organization'
                   }
               },
               error : function(request, status, error) { // 결과 에러 콜백함수
                   console.log(error)
               }
           })
       })

       $("#signBtn").click(function(){
           window.location.href = 'http://localhost:3000/signIn'
       })
  </script>
  </body>
</html>
