<!DOCTYPE html>
<html>
  <head>
   <meta charset="UTF-8"> 
    <title>Sig</title>
   </head>
   <link rel="stylesheet" href="/bootstrap.min.css" id="bootstrap-css">
   <link rel='stylesheet' href='/stylesheets/style.css' />

   <script src="/jquery.min.js"></script>
   <script src="/bootstrap.min.js"></script>

   <body>
    <body class="text-center">
        <div class="form-signIn">
            <form>
                <h1 class="h3 mb-3 fw-normal">회원 가입</h1>
            </form>
        </div>
    </body>

    <script>
        $("#signIn").click(function(){
            $.ajax({
                type : 'post',           // 타입 (get, post, put 등등)
                url : 'http://localhost:3000/api/member/sign',   // 요청할 서버url
                async : true,            // 비동기화 여부 (default : true)
                headers : {              // Http header
                    "Content-Type" : "application/x-www-form-urlencoded",
                },
                dataType : 'json',       // 데이터 타입 (html, xml, json, text 등등)
                data : {  // 보낼 데이터 (Object , String, Array)
                    "id" : $("#id").val(),
                    "pw" : $("#pw").val(),
                    "name" : $("#name").val(),
                    "nickname" : $("#nickname").val(),
                    "email" : $("#email").val(),
                    "birthday" : $("#birthday").val()
                },
                success : function(result) { // 결과 성공 콜백함수
                    console.log(result);
                    if(result==='회원가입 성공'){
                        alert('회원가입 성공')
                        window.location.href = 'http://localhost:3000/login'
                    } else if(result==='ID중복'){
                        alert('ID중복')
                    } else {
                        alert('회원가입 실패')
                    }
                },
                error : function(request, status, error) { // 결과 에러 콜백함수
                    console.log(error)
                }
            })
        })

        $("#cancel").click(function(){
            window.location.href = 'http://localhost:3000/login'
        })
    </script>
   </body>
</html>