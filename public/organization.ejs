<!DOCTYPE html>
<html>
   <head>
    <meta charset="UTF-8">
    <title>ogana</title>
    <link rel="stylesheet" href="/bootstrap.min.css" id="bootstrap-css">
    <link rel='stylesheet' href='/stylesheets/style.css' />

    <script src="/jquery.min.js"></script>
    <script src="/bootstrap.min.js"></script>
    <script src="/javascripts/common.js"></script>

    <style>
       .container {
           width: 50%;
           margin-bottom: 30px;
       }
       .containeres {
           margin: 10px;
           padding: 20px;
       }
    </style>
   </head>
   <body>
   <div id="section">
<!--       <div class="container">-->
<!--          <div class="h-10 p-5 bg-body-teriary border rounded-3">-->
<!--              <h2>Add borders</h2>-->
<!--          </div>-->
<!--       </div>-->
   </div>
   <div class="container">
       <div>
           <button class="btn btn-lg btn-primary" id="create" type="submit">동아리 개설하기</button>
       </div>
   </div>
   <div class="container">
       <span class="containeres">동아리 리스트</span>
       <span class="containeres">동아리 리스트</span>
       <span class="containeres">동아리 리스트</span>
   </div>
   <script>
       $(document).ready(function() {
           fetch("http://localhost:3000/api/club")
               .then(res => res.json())
               .then(data => {
                   console.log(data)

                   let rows = data
                   $('#section').empty()
                   rows.forEach((a) => {
                       let clubNo = a['club_no']
                       let clubName = a['clubname']
                       let memNo = a['mem_no']
                       let madeDate = a['made_date']
                       let hobbyCo = a['hobby_co']

                       let temp_html = `<div class="container">
                                              <div class="h-10 p-5 bg-body-teriary border rounded-3" onclick="goClub(${clubNo});">
                                                  <h2>${clubName}</h2>
                                              </div>
                                            </div>`
                       $('#section').append(temp_html)
                   })
               })
       })

       $("#create").click(function (){
           let data = {
               'id' : $("#id").val(),
               'memNo' : $("#memNo").val(),
               'nickName' : $("#nickName").val()
           }
           page_move('http://localhost:3000/create', data)
       })

       function goClub(clubNo){
           debugger;
           let data = {
               'id' : $("#id").val(),
               'memNo' : $("#memNo").val(),
               'nickName' : $("#nickName").val(),
               'clubNo' : clubNo
           }
           page_move('http://localhost:3000/api/post/club', data)
       }
   </script>
   <input type="hidden" id="memNo" value="<%=memNo%>">
   <input type="hidden" id="id" value="<%=id%>">
   <input type="hidden" id="nickName" value="<%=nickName%>">
   </body>
</html>

